__Рабочий контейнер__ — это предварительно настроенная среда на базе Docker, которая содержит всё необходимое для работы с __ROS2__. Контейнер можно запустить на __Ubuntu__ или на __Windows__ через __WSL__ (Windows Subsystem for Linux), что позволяет использовать единое рабочее пространство вне зависимости от основной ОС.<br>
<br>
В папке __/путь/к/проекту (у нас ROS2/box305)__ находится репозиторий с рабочим контейнером. Если вы используете __Windows__, убедитесь, что репозиторий скопирован или изначально размещён в домашней папке __WSL__, где уже настроена интеграция с __Docker__. Это необходимо для корректного взаимодействия всех компонентов.<br>

Откройте консоль WSL и перейдите в папку __/путь/к/проекту (у нас ROS2/box305/docker)__, где расположены скрипты для управления контейнером. 

Пример пути к проекту:

![](https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/Docker/Фото%20к%20инструкции/10.png)

- Кстати, чтобы не прописывать постоянно cd, можно пользоваться табуляцией. Пишем в терминале __cd «Начало названия папки»__, нажимаем __TAB__ (у меня это клавиша над __CAPS LOCK__ со стрелочками) и произойдет автоматическое дополнение названия папки

![](https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/Docker/Фото%20к%20инструкции/15.png)

Выполните их в следующем порядке, чтобы корректно инициализировать и запустить контейнер:<br> 
#ВАЖНО ЧТОБЫ __DOCKER__ БЫЛ УСТАНОВЛЕН. Если Вы пропустили этап с установкой __Docker__, обязательно выполните его.
- __./docker_build.bash__ — этот скрипт собирает образ контейнера;<br>
```
/docker_build.bash
```
Если при запуске __./build_docker.bash__ вышло следующее сообщение

![](https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/Docker/Фото%20к%20инструкции/11.png)

то напишите ls. В сообщении, выведенном на экран будут показаны файлы, находящиеся в папке __Docker__, где белым выделены файлы, в доступе к которым отказано. Для исправления этой ошибки пропишите chmod +x *.bash, 
где chmod — изменить режим, +х — разрешить в доступе, *.bash — все, что заканчивается на bash

![](https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/Docker/Фото%20к%20инструкции/12.png)

- __./run.bash__ — запускает контейнер из собранного образа;<br>
```
./run.bash_
```
- __./into.bash__ — подключает вас к запущенному контейнеру для дальнейшей работы.<br>
```
./into.bash
```

После выполнения этих команд вы окажетесь внутри контейнера, где уже установлен __ROS2__. При первом запуске обязательно выполните команду:<br>
__colcon build__
<br>
Эта команда инициирует рабочее пространство в папке __workspace__ на вашем жёстком диске, чтобы изменения сохранялись даже после завершения работы контейнера.<br>
<br>
Чтобы выйти из контейнера, напишите команду __exit__<br>
Чтобы перезайти в контейнер после выхода, просто введите команду __./into.bash__.<br>
<br>
Далее мы запускаем симуляцию работы робота __Turtle bot__ с использованием __SLAM__ и __Nav2 stack__. Для пояснения:
<br>
- __SLAM__ (Simultaneous Localization and Mapping) — алгоритм, позволяющий роботу одновременно строить карту окружающей среды и определять своё положение на ней;<br>
- __Nav2__ — набор программ, обеспечивающий: <br>
   - Определение положения робота на карте;<br>
   - Приём целевых точек;<br>
   - Планирование пути до заданной точки;<br>
   - Расчёт необходимых линейных и угловых скоростей для движения робота.<br>

Чтобы оптимизировать работу и не загромождать рабочее пространство множеством окон, мы используем утилиту __tmux__ (просто напишите ее название в консоли и нажмите Enter). Эта программа позволяет разделить терминал на несколько панелей. Для разделения нажмите сочетание клавиш __Ctrl+b__, а затем __"__ (это создаст горизонтальное разделение).<br>

В одной из панелей запустите симуляцию работы робота командой:<br>
```
ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py
```
В другой панели выполните запуск подготовленного launch-файла для управления роботом и запуска графического интерфейса:<br>
```
ros2 launch box305_pkg turtle_slam_launch.launch.py
```

В открывшемся окне, используя инструмент __Nav2 Goal__, задайте желаемую целевую точку и направление, после чего наблюдайте, как робот исследует пространство и движется к указанной точке.<br>

Таким образом, вы сможете не только запустить и протестировать симуляцию, но и оценить работу ключевых алгоритмов, которые в дальнейшем помогут роботу ориентироваться в реальных условиях.
