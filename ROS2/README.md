# ROS (Robot Operating System)<br>
## Дисклеймер
### В основном в этой инструкции будут представлены картинки успешного выполнения команды, в иных случаях будет дано более подробное описание к картинкам
<br>

__Robot Operating System (ROS)__ - это фреймворк (гибкая платформа) для разработки программного обеспечения (ПО) роботов, который ставится на базовую операционную систему, обычно на __Linux (Ubuntu)__.<br>
__ROS__ можно рассматривать, как набор разнообразных инструментов, библиотек и определенных правил, целью которых является упрощение задач разработки ПО роботов.<br>
Он был создан, чтобы стимулировать совместную разработку программного обеспечения робототехники.<br>
Каждая отдельная команда разработчиков и энтузиастов может работать над какой-либо конкретной задачей, но использование единой платформы, позволяет всему сообществу получить и использовать результат их работы для своих личных проектов. <br>
# ROS2 <br>
__ROS2__ использует те же принципы работы, что и __ROS1__. В то же время, __ROS2 не является частью ROS1__. <br>
В отличие от __ROS1__, cтек которого написан на __C++__, а клиентские библиотеки на __C++__ и __Python__, в __ROS2__ также используется язык __C__. <br>
Преимущества использования __ROS2__: <br>
- позволяет устанавливать безопасные соединения между компонентами системы (__нодами__);
- взаимодействие осуществляется в режиме __«real-time»__;
- соединение нескольких роботов в одну сеть упрощен;
- улучшено «качество общения» между нодам (узлами или по простому небольшими командами);<br>

__ROS2__ реализует __real-time__ взаимодействие через так называемую концепцию __DDS (Data Distributed Services)__ - набор алгоритмов, встраиваемых к разным программам, позволяющий всем программам, имеющим встроенный блок, общаться между собой без центрального сервера.<br>
Для генерации исходного кода для сообщений на разных языках используется протокол __ROS MSG__. <br>
Для передачи данных между программами существуют следующие инструменты:<br>
1) **Топики (topics)** – это базовый способ взаимодействия между программами (__Nodes__), в этом случае есть программы публикующая (__publisher__) данные в топик, а есть получающие (__subscriber__) сообщения.<br>
Для того, чтобы лучше разобраться с тописками рассмотрим жизненный пример:
- Пусть у нас есть электронный градусник __(publisher)__. Он измеряет температуру и публикует информацию о ней в __топик__, дисплейчик __(subscriber)__ подписан на топик и показывает Вам температуру.
<br>
Не публикующие и не получающие данные программы ничего не знают об остальных программах, взаимодействующих с топиком. Эта особенность позволяет заменять данные без влияния на другие программы. Например, у нас могут поддерживаться разные инерциальные модули, для каждого из которых существует программа, публикующая данные в один и тот же топик в одном и том же формате.
<br>

![image](https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/изображения%20к%20тексту/Топики.jpg)

<a href="url"><img src="https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/изображения%20к%20тексту/Компоненты%20топика.png" align="center" height="387" width="512" ></a>

<br>

2) __Сервисы__ – это это механизм синхронного (одновременного) или асинхронного (неодновременного, да-да, логично) вызова процедур между нодами. Они позволяют одной ноде вызывать функцию, которая выполняется в другой ноде.<br>
Сервис состоит из двух компонентов:<br>
- __Клиент__ – компонент, формирующий запрос, отправляющий его серверу и ожидающий ответа.<br> 
- __Сервер__ – компонент, получающий запрос, завершающий вычисление и отправляющий ответ клиенту.<br>

Сервисы часто используются для быстрых задач, которые требуют немедленного ответа.<br>
![image](https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/изображения%20к%20тексту/Сервисы.jpg)

<a href="url"><img src="https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/изображения%20к%20тексту/Компоненты%20сервиса.png" align="center" height="326" width="512" ></a>

3) __Действия (Actions)__ — это механизм связи, предназначенный для управления длительными задачами в распределённой робототехнической системе.<br>
Действия состоят из двух компонентов:<br>
__Клиент действия__ — узел, который запрашивает выполнение цели от своего имени. Он ожидает обратной связи и результата по завершении.<br>
__Сервер действий__ — узел, который принимает цель и выполняет необходимые процедуры. Он отправляет обратную связь по мере выполнения действия и возвращает полный результат, когда цель достигнута.<br>

<a href="url"><img src="https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/изображения%20к%20тексту/Действия.jpg" align="center" height="346" width="512" ></a>

<a href="url"><img src="https://github.com/WWnotLL/ROS2_tutorial_305/blob/main/изображения%20к%20тексту/компоненты%20действия.png" align="center" height="492" width="512" ></a>

Дополнительные инструменты, доступные в __ROS__:
1) __Rqt_gui__ – графический интерфейс представляющий из себя набор плагинов, позволяющий анализировать запущенное окружение __ROS__.
2) __Node Graph__ – один из плагинов __rqt_gui__, позволяющий посмотреть запущенные программы и то, как они между собой взаимодействуют.
3) __RVIZ__ – инструмент визуализации стандартных сообщений __ROS__. 
4) __Nav2__ – набор программ, используемый для навигации робота, его перемещения и предотвращения столкновении.<br><br>

# *Для детального изучения ROS2 рекомендуем пройти __[Народный курс](https://stepik.org/course/221157/syllabus)__*
